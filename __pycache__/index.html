	<!DOCTYPE html>
	<html lang="en">
	<head>
	  <meta charset="UTF-8" />
	  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
	  <title>Crazy Crosswords</title> <!-- Title of page will be shown at the top -->
	  <style>
		body {
		  font-family: Arial, sans-serif;  /*styling the page, font, colour etc*/
		  background-color: #f4f4f4;
		  text-align: center;
		  margin: 20px;
		}

		h1 {
		  color: #333;
		}

		.grid { /*doin the layout of the grid */
		  display: inline-block;
		  border-collapse: collapse;
		  margin: 20px auto;
		}

		.row {
		  display: flex;
		  justify-content: center;
		}

		.cell { /* making the cells */
		  width: 50px;
		  height: 50px;
		  border: 2px solid #333;
		  text-align: center;
		  vertical-align: middle;
		  font-size: 24px;
		  font-weight: bold;
		  background: white;
		  box-sizing: border-box;
		}

		.empty {
		  border: none;
		  background: none;
		  width: 50px;
		  height: 50px;
		}

		.form-container {
		  margin: 20px;
		}

		input[type="text"] {
		  padding: 8px;
		  width: 180px;
		  font-size: 16px;
		}

		button {
		  padding: 8px 14px;
		  font-size: 16px;
		  margin: 5px;
		  cursor: pointer;
		}

		select {
		  padding: 6px;
		  font-size: 15px;
		  margin: 10px;
		}

		ul {
		  list-style-type: none;
		  padding: 0;
		}

		li {
		  text-align: left;
		  margin-left: 30%;
		  font-size: 16px;
		}

		b {
		  color: #008000;
		}
		.correct {
		  color: #008000;
		}
		.wrong {
		  color: #ff0000;
		}
		.number {
  position: absolute;
  top: 2px;
  left: 4px;
  font-size: 12px;
  color: #333;
}
.cell {
  position: relative;
}

	  </style>
	</head>
	<body>
	  <h1>Crazy Crosswords</h1>
	  <div id="timer-container" style="margin: 15px;"> <!-- this section is to dot woth the timer. creating buttons to stop start and reset the timer-->
	  <span style="font-size: 20px; font-weight: bold;">⏱️ Time: </span>
	  <span id="timer" style="font-size: 20px;">0:00</span><br><br>
	  <button type="button" onclick="startTimer()">Start</button> 
	  <button type="button" onclick="stopTimer()">Stop</button>
	  <button type="button" onclick="resetTimer()">Reset</button>
	</div>
	  <form method="POST">
		<label><b>Choose difficulty:</b></label> <!-- allows the user to choose what diifculty they want to select  -->
	<select name="difficulty" onchange="this.form.submit()">
	  <option value="easy" {% if difficulty == 'easy' %}selected{% endif %}>Easy</option> <!-- selecting the easy option-->
	  <option value="medium" {% if difficulty == 'medium' %}selected{% endif %}>Medium</option> <!-- selecting the medium option-->
	  <option value="hard" {% if difficulty == 'hard' %}selected{% endif %}>Hard</option> <!-- selecting the hard option-->
	</select>
	  </form>

	  <div class="grid">
  {% for row in grid_layout %} <!--loops through each row in the crossword-->
    <div class="row">
      {% for cell in row %}
        {% if cell.letter %}
		  <div class="cell {% if cell.letter != '?' %}guessed{% endif %}" onclick="showClue('{{ cell.number or 0 }}')">
            {% if cell.number %}
              <span class="number">{{ cell.number }}</span>  <!-- this shows a number at the start of the word -->
            {% endif %}
            {{ cell.letter }}
          </div>
        {% else %}
          <div class="empty"></div>
        {% endif %}
      {% endfor %}
    </div>
	  {% if message %}
		 <p class="{{ 'correct' if '✅' in message else 'wrong' }}" style="font-size:18px; font-weight:bold;"> <!-- outputs a message after the user guesses (green for correct, red for wrong) -->
		  {{ message }}
	  </p>
	  {% endif %}
	  <div class="form-container">
	  {% if message %}
		 <p class="{{ 'correct' if '✅' in message else 'wrong' }}" style="font-size:18px; font-weight:bold;"> <!-- outputs a message after the user guesses (green for correct, red for wrong) -->
		  {{ message }}
	  </p>
	  {% endif %}
		<form method="POST">
		  <input type="text" name="word" placeholder="Enter word..." required />
		  <button type="submit">Submit</button>
		</form>
	  </div>

	  <h2>Clues</h2>
	  <ul>
		{% for word, clue in clues.items() %}
		  <li>
			{% if word in guessed_words %}
			  <b>{{ word }}</b> — {{ clue }}
			{% else %}
			  <b>{{ word[0] }}{{ "*" * (word|length - 1) }}</b> — {{ clue }}
			{% endif %}
		  </li>
		{% endfor %}
	  </ul>
	  <script>
	  let timerInterval;
	  let totalSeconds = 0; // this keeps track of how many seconds have passed 
	  let isRunning = false; // this is to check whether the timer is running or not 

	  function updateTimerDisplay() {
		const minutes = Math.floor(totalSeconds / 60);
		const seconds = totalSeconds % 60; // this formats the timer so it shows on screen in minutes and seconds
		document.getElementById("timer").textContent =
		  `${minutes}:${seconds.toString().padStart(2, "0")}`;
	  }

	  function startTimer() { // this functoin starts counting up every second 
		if (!isRunning) {
		  isRunning = true;
		  timerInterval = setInterval(() => { 
			totalSeconds++;
			updateTimerDisplay();
		  }, 1000); // 1000 millesecond = 1 second
		}
	  }

	  function stopTimer() { 
		clearInterval(timerInterval); // this stops the timer from counting 
		isRunning = false;
	  }

	  function resetTimer() {
		stopTimer();
		totalSeconds = 0;
		updateTimerDisplay();
	  }
	</script>
<script>
  const cluesData = '{{ clues | tojson | safe }}';

  function showClue(num) {
	const clueBox = document.getElementById('clue-box');
	if (cluesData && cluesData[num]) {
	  clueBox.textContent = cluesData[num];
	} else {
	  clueBox.textContent = '';
	}
  }
</script>
	</body>
	</html>

